{"version":3,"sources":["../../src/pages/following/following.module.ts","../../src/app/constants.ts","../../src/pages/following/following.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACO;AAEJ;AAC4B;AAgBxE;IAAA;IAAkC,CAAC;IAAtB,mBAAmB;QAd/B,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,iEAAa;aACd;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,iEAAa,CAAC;gBACvC,yFAAe,CAAC,OAAO,EAAE;aAC1B;YACD,SAAS,EAAE,EACV;YACD,eAAe,EAAE;gBACf,iEAAa;aACd;SACF,CAAC;OACW,mBAAmB,CAAG;IAAD,0BAAC;CAAA;AAAH;;;;;;;;;ACpBhC;AAAA;IAAA;IAGA,CAAC;IAFiB,yBAAe,GAAG,gBAAgB,CAAC;IACnC,wBAAc,GAAG,cAAc,CAAC;IAClD,gBAAC;CAAA;AAHqB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAtB,UAAU;AACmE;AAEnB;AAM1D,cAAc;AACkD;AAGc;AACZ;AACF;AACyB;AACzC;AAOhD;IAIE,uBACS,OAAsB,EACrB,YAA0B,EAC1B,MAAc;QAEtB,cAAc;QACN,WAA0C,EAC1C,aAA4B,EAC5B,mBAAwC,EACxC,YAA0B;QAR3B,YAAO,GAAP,OAAO,CAAe;QACrB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,WAAM,GAAN,MAAM,CAAQ;QAGd,gBAAW,GAAX,WAAW,CAA+B;QAC1C,kBAAa,GAAb,aAAa,CAAe;QAC5B,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,iBAAY,GAAZ,YAAY,CAAc;QAZ7B,qBAAgB,GAAsB,EAAE,CAAC;IAYT,CAAC;IAExC,gCAAQ,GAAR;QAAA,iBASC;QAPC,CAAC;;;;;wBACC,SAAI;wBAAgB,qBAAM,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,iEAAS,CAAC,cAAc,CAAC;;wBAApF,GAAK,YAAY,GAAG,SAAgE,CAAC;;;;aACtF,CAAC,EAAE,CAAC;QAEL,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YACpB,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAChC,CAAC;IACH,CAAC;IAED,4CAAoB,GAApB;QACE,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,OAAO,CAAC;QAEZ,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,wBAAwB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,UAAS,cAA8B;YAClH,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;gBACd,IAAI,CAAC,gBAAgB,GAAG,cAAc,CAAC,OAAO,CAAC;gBAE/C,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAS,CAAkB,EAAE,CAAkB;oBACxE,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,GAAG,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;gBACrD,CAAC,CAAC;YACJ,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACjC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;IACvC,CAAC;IAED,mCAAW,GAAX;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAC/B,CAAC;IA9CU,aAAa;QAJzB,wEAAS,CAAC;YACT,QAAQ,EAAE,gBAAgB;WACG;SAC9B,CAAC;8FAM+B;YACP,8DAAY;YAClB,0GAAM;YAGD,oFAA6B;YAC3B,+FAAa;YACP,mFAAmB;YAC1B,UAAY;OAbzB,aAAa,CA+CzB;IAAD,CAAC;AAAA;SA/CY,aAAa,e","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\nimport { FollowingPage } from './following';\r\nimport { ComponentModule } from '../../app/components/component.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    FollowingPage\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(FollowingPage),\r\n    ComponentModule.forRoot()\r\n  ],\r\n  providers: [\r\n  ],\r\n  entryComponents: [\r\n    FollowingPage\r\n  ]\r\n})\r\nexport class FollowingPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/following/following.module.ts","export class Constants {\r\n    public static TWITCH_USERNAME = 'twitchUsername';\r\n    public static TWITCH_USER_ID = 'twitchUserId';\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/constants.ts","/* Core */\r\nimport { Component, ChangeDetectorRef, NgZone, OnInit } from '@angular/core';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport { IonicPage, NavController, NavOptions } from 'ionic-angular';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n/* Models */\r\nimport { ChannelWrapper } from '../../app/models/channel-wrapper.model';\r\n\r\n/* Services */\r\nimport { UsersService } from '../../app/services/users.service';\r\nimport { FollowedChannel } from '../../app/models/followed-channel.model';\r\nimport { Channel } from '../../app/models/channel.model';\r\nimport { LocalStorageService } from '../../app/services/localStorage.service';\r\nimport { LoaderService } from '../../app/services/loader.service';\r\nimport { ToastService } from '../../app/services/toast.service';\r\nimport { AbstractAuthenticationService } from '../../app/services/abstract-auth.service';\r\nimport { Constants } from '../../app/constants';\r\n\r\n@IonicPage({\r\n  name: 'following',\r\n  segment: 'following'\r\n})\r\n@Component({\r\n  selector: 'page-following',\r\n  templateUrl: 'following.html'\r\n})\r\nexport class FollowingPage implements OnInit {\r\n  public followedChannels: FollowedChannel[] = [];\r\n  public twitchUserId: string;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    private usersService: UsersService,\r\n    private ngZone: NgZone,\r\n\r\n    /* Services */\r\n    private authService: AbstractAuthenticationService,\r\n    private loaderService: LoaderService,\r\n    private localStorageService: LocalStorageService,\r\n    private toastService: ToastService) {}\r\n\r\n  ngOnInit(): void {\r\n\r\n    (async () => {\r\n      this.twitchUserId = await this.localStorageService.getItem(Constants.TWITCH_USER_ID);\r\n    })();\r\n\r\n    if (this.twitchUserId) {\r\n        this.getFollowingChannels();\r\n    }\r\n  }\r\n\r\n  getFollowingChannels() {\r\n    let that = this;\r\n    let promise;\r\n\r\n    promise = this.usersService.getFollowingChannelsById(that.twitchUserId).then(function(channelWrapper: ChannelWrapper) {\r\n      that.ngZone.run(() => {\r\n        that.followedChannels = channelWrapper.follows;\r\n\r\n        that.followedChannels.sort(function(a: FollowedChannel, b: FollowedChannel) {\r\n          return (b.channel.followers - a.channel.followers);\r\n        })\r\n      });\r\n    });\r\n\r\n    that.loaderService.show(promise);\r\n    that.toastService.onFailure(promise);\r\n  }\r\n\r\n  goToProfile() {\r\n    this.navCtrl.push('profile');\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/following/following.ts"],"sourceRoot":""}