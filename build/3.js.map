{"version":3,"sources":["../../src/pages/profile/profile.module.ts","../../src/app/constants.ts","../../src/pages/profile/profile.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\nimport { ProfilePage } from './profile';\r\nimport { ComponentModule } from '../../app/components/component.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ProfilePage\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ProfilePage),\r\n    ComponentModule.forRoot()\r\n  ],\r\n  providers: [\r\n  ],\r\n  entryComponents: [\r\n    ProfilePage\r\n  ]\r\n})\r\nexport class ProfilePageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.module.ts","export class Constants {\r\n    public static TWITCH_USERNAME = 'twitchUsername';\r\n    public static TWITCH_USER_ID = 'twitchUserId';\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/constants.ts","/* Core */\r\nimport { Component, ChangeDetectorRef, NgZone, OnInit } from '@angular/core';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport { IonicPage, NavController, NavOptions } from 'ionic-angular';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { LocalStorageService } from '../../app/services/localStorage.service';\r\nimport { UserWrapper } from '../../app/models/user-wrapper';\r\nimport { UsersService } from '../../app/services/users.service';\r\nimport { ToastService } from '../../app/services/toast.service';\r\nimport { Constants } from '../../app/constants';\r\n\r\n/* Models */\r\n\r\n/* Services */\r\n\r\n@IonicPage({\r\n  name: 'profile',\r\n  segment: 'profile'\r\n})\r\n@Component({\r\n  selector: 'page-profile',\r\n  templateUrl: 'profile.html'\r\n})\r\nexport class ProfilePage implements OnInit {\r\n  public twitchUsername: string;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    private localStorageService: LocalStorageService,\r\n    private usersService: UsersService,\r\n    private toastService: ToastService) {}\r\n\r\n  ngOnInit(): void {\r\n    (async () => {\r\n      this.twitchUsername = await this.localStorageService.getItem(Constants.TWITCH_USERNAME);\r\n    })();\r\n  }\r\n\r\n  onSave() {\r\n    let that = this;\r\n    let twitchUsername: string;\r\n    let twitchUserId: string;\r\n\r\n    this.localStorageService.setItem(Constants.TWITCH_USERNAME, this.twitchUsername);\r\n\r\n    (async () => {\r\n      twitchUsername = await this.localStorageService.getItem(Constants.TWITCH_USERNAME);\r\n      twitchUserId = await this.localStorageService.getItem(Constants.TWITCH_USER_ID);\r\n\r\n      if (!twitchUserId) {\r\n        if (twitchUsername && twitchUsername !== \"null\" && twitchUsername !== \"undefined\") {\r\n          this.usersService.getUsers(twitchUsername).then(function(userWrapper: UserWrapper) {\r\n            if (userWrapper.users && userWrapper.users.length) {\r\n              that.localStorageService.setItem(Constants.TWITCH_USER_ID, userWrapper.users[0]._id.toString());\r\n            }\r\n          });\r\n        }\r\n      }\r\n  \r\n      this.presentToast();\r\n    })();\r\n  }\r\n\r\n  presentToast() {\r\n    this.toastService.show('Information has been saved successfully.');\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts"],"sourceRoot":""}